$$
\begin{alignedat}{1}
0 &=
  (m_a +m_b)l_a(c_{a-b}l_a\ddot{\theta_a}
  +l_b\ddot{\theta_b}
  -s_{a-b}l_a\dot{\theta_a}^2
  +s_bg) \\
&\hphantom{=} -c_{a-b}l_a(
  (m_a +m_b)l_a\ddot{\theta_a}
    +m_bc_{a-b}l_b\ddot{\theta_b}
    +m_bs_{a-b}l_b\dot{\theta_b}^2
    +(m_a +m_b)s_ag
  ) \\
0 &=
  (m_a +m_b -m_bc_{a-b}^2)l_al_b\ddot{\theta_b}
    +(m_a +m_b)s_{a-b}l_a^2\dot{\theta_a}^2
    -m_bs_{a-b}c_{a-b}l_al_b\dot{\theta_b}^2 \\
&\hphantom{=} 
    +(m_a +m_b)(s_b -c_{a-b}s_a)l_ag
\end{alignedat}
$$

Simplify some terms:
$$
\begin{alignedat}{1}
m_a& +m_b -m_bc_{a-b}^2 \\
&= m_a +m_b(1 - c_{a-b}^2) \\
&= m_a +m_bs_{a-b}^2 \\
\end{alignedat}

\begin{alignedat}{1}
s_b& -c_{a-b}s_a \\
&= s_b -(c_ac_b + s_as_b)s_a \\
&= s_b -s_ac_ac_b - s_a^2s_b \\
&= -((s_ac_b)c_a+s_a^2s_b -s_b) \\
&= -((s_{a-b} + c_as_b)c_a+s_a^2s_b -s_b) \\
&= -(s_{a-b}c_a + s_bc_a^2+s_a^2s_b -s_b) \\
&= -(s_{a-b}c_a +c_a^2s_b +s_a^2s_b -s_b) \\
&= -(s_{a-b}c_a +(c_a^2 +s_a^2 -1)s_b) \\
&= -s_{a-b}c_a \\
\end{alignedat}
$$

And we get:
$$
\begin{alignedat}{2}
0 &=
  (m_a +m_bs_{a-b}^2)l_b\ddot{\theta_b}
    -(m_a +m_b)s_{a-b}l_a\dot{\theta_a}^2
    -m_bs_{a-b}c_{a-b}l_b\dot{\theta_b}^2
    -(m_a +m_b)s_{a-b}c_ag \qquad &\text{(21)}
\end{alignedat}
$$